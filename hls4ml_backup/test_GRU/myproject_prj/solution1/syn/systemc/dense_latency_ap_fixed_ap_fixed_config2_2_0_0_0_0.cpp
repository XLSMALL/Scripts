// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and OpenCL
// Version: 2019.2
// Copyright (C) 1986-2019 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

#include "dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0.h"
#include "AESL_pkg.h"

using namespace std;

namespace ap_rtl {

const sc_logic dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_logic_1 = sc_dt::Log_1;
const sc_logic dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_logic_0 = sc_dt::Log_0;
const bool dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_boolean_1 = true;
const bool dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_boolean_0 = false;
const sc_lv<26> dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_lv26_3DF = "1111011111";
const sc_lv<25> dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_lv25_DF = "11011111";
const sc_lv<7> dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_lv7_0 = "0000000";
const sc_lv<32> dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_lv32_A = "1010";
const sc_lv<32> dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_lv32_17 = "10111";
const sc_lv<32> dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_lv32_18 = "11000";
const sc_lv<32> dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::ap_const_lv32_19 = "11001";

dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0(sc_module_name name) : sc_module(name), mVcdFile(0) {
    myproject_mul_16s_11ns_26_2_0_U48 = new myproject_mul_16s_11ns_26_2_0<1,2,16,11,26>("myproject_mul_16s_11ns_26_2_0_U48");
    myproject_mul_16s_11ns_26_2_0_U48->clk(ap_clk);
    myproject_mul_16s_11ns_26_2_0_U48->reset(ap_rst);
    myproject_mul_16s_11ns_26_2_0_U48->din0(data_V_read);
    myproject_mul_16s_11ns_26_2_0_U48->din1(grp_fu_54_p1);
    myproject_mul_16s_11ns_26_2_0_U48->ce(grp_fu_54_ce);
    myproject_mul_16s_11ns_26_2_0_U48->dout(grp_fu_54_p2);
    myproject_mul_16s_9ns_25_2_0_U49 = new myproject_mul_16s_9ns_25_2_0<1,2,16,9,25>("myproject_mul_16s_9ns_25_2_0_U49");
    myproject_mul_16s_9ns_25_2_0_U49->clk(ap_clk);
    myproject_mul_16s_9ns_25_2_0_U49->reset(ap_rst);
    myproject_mul_16s_9ns_25_2_0_U49->din0(data_V_read);
    myproject_mul_16s_9ns_25_2_0_U49->din1(grp_fu_56_p1);
    myproject_mul_16s_9ns_25_2_0_U49->ce(grp_fu_56_ce);
    myproject_mul_16s_9ns_25_2_0_U49->dout(grp_fu_56_p2);

    SC_METHOD(thread_ap_clk_no_reset_);
    dont_initialize();
    sensitive << ( ap_clk.pos() );

    SC_METHOD(thread_acc_1_V_fu_152_p1);
    sensitive << ( trunc_ln708_2_reg_193 );

    SC_METHOD(thread_ap_block_pp0_stage0);

    SC_METHOD(thread_ap_block_pp0_stage0_11001);

    SC_METHOD(thread_ap_block_state1_pp0_stage0_iter0);

    SC_METHOD(thread_ap_block_state2_pp0_stage0_iter1);

    SC_METHOD(thread_ap_return_0);
    sensitive << ( sext_ln708_fu_148_p1 );
    sensitive << ( ap_ce_reg );
    sensitive << ( ap_return_0_int_reg );

    SC_METHOD(thread_ap_return_1);
    sensitive << ( acc_1_V_fu_152_p1 );
    sensitive << ( ap_ce_reg );
    sensitive << ( ap_return_1_int_reg );

    SC_METHOD(thread_ap_return_2);
    sensitive << ( grp_fu_54_p2 );
    sensitive << ( ap_ce_reg );
    sensitive << ( ap_return_2_int_reg );

    SC_METHOD(thread_grp_fu_54_ce);
    sensitive << ( ap_block_pp0_stage0_11001 );

    SC_METHOD(thread_grp_fu_54_p1);
    sensitive << ( ap_block_pp0_stage0 );

    SC_METHOD(thread_grp_fu_56_ce);
    sensitive << ( ap_block_pp0_stage0_11001 );

    SC_METHOD(thread_grp_fu_56_p1);
    sensitive << ( ap_block_pp0_stage0 );

    SC_METHOD(thread_sext_ln1118_2_fu_101_p0);
    sensitive << ( data_V_read );
    sensitive << ( ap_block_pp0_stage0 );

    SC_METHOD(thread_sext_ln1118_2_fu_101_p1);
    sensitive << ( sext_ln1118_2_fu_101_p0 );

    SC_METHOD(thread_sext_ln1118_4_fu_118_p1);
    sensitive << ( tmp_fu_110_p3 );

    SC_METHOD(thread_sext_ln708_fu_148_p1);
    sensitive << ( trunc_ln_fu_138_p4 );

    SC_METHOD(thread_sub_ln1118_fu_122_p2);
    sensitive << ( sext_ln1118_2_fu_101_p1 );
    sensitive << ( sext_ln1118_4_fu_118_p1 );

    SC_METHOD(thread_tmp_fu_110_p1);
    sensitive << ( data_V_read );
    sensitive << ( ap_block_pp0_stage0 );

    SC_METHOD(thread_tmp_fu_110_p3);
    sensitive << ( tmp_fu_110_p1 );

    SC_METHOD(thread_trunc_ln_fu_138_p4);
    sensitive << ( grp_fu_56_p2 );

    static int apTFileNum = 0;
    stringstream apTFilenSS;
    apTFilenSS << "dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0_sc_trace_" << apTFileNum ++;
    string apTFn = apTFilenSS.str();
    mVcdFile = sc_create_vcd_trace_file(apTFn.c_str());
    mVcdFile->set_time_unit(1, SC_PS);
    if (1) {
#ifdef __HLS_TRACE_LEVEL_PORT_HIER__
    sc_trace(mVcdFile, ap_clk, "(port)ap_clk");
    sc_trace(mVcdFile, ap_rst, "(port)ap_rst");
    sc_trace(mVcdFile, data_V_read, "(port)data_V_read");
    sc_trace(mVcdFile, ap_return_0, "(port)ap_return_0");
    sc_trace(mVcdFile, ap_return_1, "(port)ap_return_1");
    sc_trace(mVcdFile, ap_return_2, "(port)ap_return_2");
    sc_trace(mVcdFile, ap_ce, "(port)ap_ce");
#endif
#ifdef __HLS_TRACE_LEVEL_INT__
    sc_trace(mVcdFile, ap_block_state1_pp0_stage0_iter0, "ap_block_state1_pp0_stage0_iter0");
    sc_trace(mVcdFile, ap_block_state2_pp0_stage0_iter1, "ap_block_state2_pp0_stage0_iter1");
    sc_trace(mVcdFile, ap_block_pp0_stage0_11001, "ap_block_pp0_stage0_11001");
    sc_trace(mVcdFile, trunc_ln708_2_reg_193, "trunc_ln708_2_reg_193");
    sc_trace(mVcdFile, grp_fu_54_p1, "grp_fu_54_p1");
    sc_trace(mVcdFile, ap_block_pp0_stage0, "ap_block_pp0_stage0");
    sc_trace(mVcdFile, grp_fu_56_p1, "grp_fu_56_p1");
    sc_trace(mVcdFile, sext_ln1118_2_fu_101_p0, "sext_ln1118_2_fu_101_p0");
    sc_trace(mVcdFile, tmp_fu_110_p1, "tmp_fu_110_p1");
    sc_trace(mVcdFile, tmp_fu_110_p3, "tmp_fu_110_p3");
    sc_trace(mVcdFile, sext_ln1118_2_fu_101_p1, "sext_ln1118_2_fu_101_p1");
    sc_trace(mVcdFile, sext_ln1118_4_fu_118_p1, "sext_ln1118_4_fu_118_p1");
    sc_trace(mVcdFile, sub_ln1118_fu_122_p2, "sub_ln1118_fu_122_p2");
    sc_trace(mVcdFile, grp_fu_56_p2, "grp_fu_56_p2");
    sc_trace(mVcdFile, trunc_ln_fu_138_p4, "trunc_ln_fu_138_p4");
    sc_trace(mVcdFile, grp_fu_54_p2, "grp_fu_54_p2");
    sc_trace(mVcdFile, sext_ln708_fu_148_p1, "sext_ln708_fu_148_p1");
    sc_trace(mVcdFile, acc_1_V_fu_152_p1, "acc_1_V_fu_152_p1");
    sc_trace(mVcdFile, grp_fu_54_ce, "grp_fu_54_ce");
    sc_trace(mVcdFile, grp_fu_56_ce, "grp_fu_56_ce");
    sc_trace(mVcdFile, ap_ce_reg, "ap_ce_reg");
    sc_trace(mVcdFile, ap_return_0_int_reg, "ap_return_0_int_reg");
    sc_trace(mVcdFile, ap_return_1_int_reg, "ap_return_1_int_reg");
    sc_trace(mVcdFile, ap_return_2_int_reg, "ap_return_2_int_reg");
#endif

    }
}

dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::~dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0() {
    if (mVcdFile) 
        sc_close_vcd_trace_file(mVcdFile);

    delete myproject_mul_16s_11ns_26_2_0_U48;
    delete myproject_mul_16s_9ns_25_2_0_U49;
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_ap_clk_no_reset_() {
    ap_ce_reg = ap_ce.read();
    if (esl_seteq<1,1,1>(ap_const_logic_1, ap_ce_reg.read())) {
        ap_return_0_int_reg = sext_ln708_fu_148_p1.read();
        ap_return_1_int_reg = acc_1_V_fu_152_p1.read();
        ap_return_2_int_reg = grp_fu_54_p2.read().range(25, 10);
    }
    if ((esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_const_logic_1))) {
        trunc_ln708_2_reg_193 = sub_ln1118_fu_122_p2.read().range(23, 10);
    }
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_acc_1_V_fu_152_p1() {
    acc_1_V_fu_152_p1 = esl_sext<16,14>(trunc_ln708_2_reg_193.read());
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_ap_block_pp0_stage0() {
    ap_block_pp0_stage0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_ap_block_pp0_stage0_11001() {
    ap_block_pp0_stage0_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_ap_block_state1_pp0_stage0_iter0() {
    ap_block_state1_pp0_stage0_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_ap_block_state2_pp0_stage0_iter1() {
    ap_block_state2_pp0_stage0_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_ap_return_0() {
    if (esl_seteq<1,1,1>(ap_const_logic_0, ap_ce_reg.read())) {
        ap_return_0 = ap_return_0_int_reg.read();
    } else if (esl_seteq<1,1,1>(ap_const_logic_1, ap_ce_reg.read())) {
        ap_return_0 = sext_ln708_fu_148_p1.read();
    }
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_ap_return_1() {
    if (esl_seteq<1,1,1>(ap_const_logic_0, ap_ce_reg.read())) {
        ap_return_1 = ap_return_1_int_reg.read();
    } else if (esl_seteq<1,1,1>(ap_const_logic_1, ap_ce_reg.read())) {
        ap_return_1 = acc_1_V_fu_152_p1.read();
    }
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_ap_return_2() {
    if (esl_seteq<1,1,1>(ap_const_logic_0, ap_ce_reg.read())) {
        ap_return_2 = ap_return_2_int_reg.read();
    } else if (esl_seteq<1,1,1>(ap_const_logic_1, ap_ce_reg.read())) {
        ap_return_2 = grp_fu_54_p2.read().range(25, 10);
    }
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_grp_fu_54_ce() {
    if ((esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_const_logic_1))) {
        grp_fu_54_ce = ap_const_logic_1;
    } else {
        grp_fu_54_ce = ap_const_logic_0;
    }
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_grp_fu_54_p1() {
    grp_fu_54_p1 =  (sc_lv<11>) (ap_const_lv26_3DF);
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_grp_fu_56_ce() {
    if ((esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_const_logic_1))) {
        grp_fu_56_ce = ap_const_logic_1;
    } else {
        grp_fu_56_ce = ap_const_logic_0;
    }
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_grp_fu_56_p1() {
    grp_fu_56_p1 =  (sc_lv<9>) (ap_const_lv25_DF);
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_sext_ln1118_2_fu_101_p0() {
    sext_ln1118_2_fu_101_p0 = data_V_read.read();
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_sext_ln1118_2_fu_101_p1() {
    sext_ln1118_2_fu_101_p1 = esl_sext<24,16>(sext_ln1118_2_fu_101_p0.read());
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_sext_ln1118_4_fu_118_p1() {
    sext_ln1118_4_fu_118_p1 = esl_sext<24,23>(tmp_fu_110_p3.read());
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_sext_ln708_fu_148_p1() {
    sext_ln708_fu_148_p1 = esl_sext<16,15>(trunc_ln_fu_138_p4.read());
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_sub_ln1118_fu_122_p2() {
    sub_ln1118_fu_122_p2 = (!sext_ln1118_2_fu_101_p1.read().is_01() || !sext_ln1118_4_fu_118_p1.read().is_01())? sc_lv<24>(): (sc_bigint<24>(sext_ln1118_2_fu_101_p1.read()) - sc_bigint<24>(sext_ln1118_4_fu_118_p1.read()));
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_tmp_fu_110_p1() {
    tmp_fu_110_p1 = data_V_read.read();
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_tmp_fu_110_p3() {
    tmp_fu_110_p3 = esl_concat<16,7>(tmp_fu_110_p1.read(), ap_const_lv7_0);
}

void dense_latency_ap_fixed_ap_fixed_config2_2_0_0_0_0::thread_trunc_ln_fu_138_p4() {
    trunc_ln_fu_138_p4 = grp_fu_56_p2.read().range(24, 10);
}

}

